<div class="container">
	<section class="books">
		<h2 class="mb-3">Manage Books</h2>
		<div class="mb-3 d-flex">
			<a class="btn" href="/admin">Back</a>
			<a class="btn ms-1" href="/admin/books/create">Add A New Book</a>
		</div>
		<div class="books-table mb-3">
			<table class="table">
				<thead>
					<tr>
						<th>Id</th>
						<th>Title</th>
						<th>Author</th>
						<th>Genre</th>
						<th>ISBN</th>
						<th>Publisher</th>
						<th>Stock Quantity</th>
					</tr>
				</thead>
				<tbody id="books-table-body">
					<!-- Book rows will be dynamically inserted here -->
				</tbody>
			</table>
			<div id="books-loading" class="text-center d-none">
				<span class="spinner-border"></span> Loading books...
			</div>
			<div id="books-error" class="alert alert-danger mt-3 d-none">
				Could not load books.
			</div>
		</div>
		<div class="mb-3 d-flex justify-content-between">
			<button onclick="loadBooks(window.currentPage - 1)" id="prev-btn" class="btn" disabled>Previous</button>
			<span id="page-info"></span>
			<button onclick="loadBooks(window.currentPage + 1)" id="next-btn" class="btn" disabled>Next</button>
		</div>
	</section>
</div>

<div id="addBookModal" class="modal d-none">
	<div class="modal-backdrop"></div> 
	<div class="modal-content">
		<button class="modal-close" id="closeAddBookModal" aria-label="Close">&times;</button>
		<h3><span id="modalTitle">Add A New Book</span></h3>
		<form id="addBookForm" class="input-form">
			<input type="hidden" id="bookId" name="bookId">

			<label for="title">Title</label>
			<input id="title" name="title" required>

			<label for="author">Author</label>
			<input id="author" name="author" required>

			<label for="genre">Genre</label>
			<input id="genre" name="genre" required>

			<label for="isbn">ISBN</label>
			<input id="isbn" name="isbn" type="text" required>

			<label for="publisher">Publisher</label>
			<input id="publisher" name="publisher" type="text" required>

			<label for="description">Description</label>
			<textarea id="description" name="description" rows="4"></textarea>

			<label for="price">Price R.</label>
			<input id="price" name="price" type="number" step="0.01" required>

			<label for="stockQuantity">Stock Quantity</label>
			<input id="stockQuantity" name="stockQuantity" type="number" min="0" required>

			<div class="d-flex justify-content-between mt-3">
				<button type="button" class="btn" id="cancelAddBook">Cancel</button>
				<button type="submit" class="btn" id="modalSubmitBtn">Add Book</button>
			</div>
			<div id="add-book-error" class="alert alert-danger mt-3 d-none">
				Could not add book.
			</div>
		</form>
	</div>
</div>

<script src="/wwwroot/js/admin/books.js"></script>